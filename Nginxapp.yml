---
- name: Update Yum Cache
  yum:
    name: '*'
    state: latest
  become: yes
  
- name: Add Nginx Repository
  yum_repository:
    name: nginx
    description: Nginx Repository
    baseurl: https://nginx.org/packages/centos/7/$basearch/
    gpgcheck: yes
    enabled: yes
    gpgkey: https://nginx.org/keys/nginx_signing.key
  become: yes
- name: Install Nginx on CentOS 7
  hosts: all
  become: yes
  tasks:
    - name: Install Nginx
      yum:
        name: nginx
        state: present

    - name: Start Nginx Service
      service:
        name: nginx
        state: started
        enabled: yes
